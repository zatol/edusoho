(window.webpackJsonp=window.webpackJsonp||[]).push([["wxpay"],{e2cf:function(a,e,t){"use strict";t.r(e),t("e7e5");var s=t("d399"),i=(t("a481"),t("db72")),n=t("3ce7"),c=(t("bc3a"),t("2f62")),r={data:function(){return{detail:{}}},computed:Object(i.a)({},Object(c.d)(["wechatSwitch","isLoading"])),mounted:function(){var a=this.$route.query,e=a.pay_amount,t=a.title,s=a.sn,i=a.openid;this.detail={pay_amount:e,title:t,sn:s,openid:i}},methods:{handlePay:function(){var a=this;n.a.createTrade({data:{gateway:"WechatPay_JsH5",type:"purchase",orderSn:this.detail.sn,openid:this.detail.openid}}).then((function(e){WeixinJSBridge.invoke("getBrandWCPayRequest",e.platformCreatedResult,(function(t){if("get_brand_wcpay_request:ok"==t.err_msg){if(a.wechatSwitch)return void a.$router.replace({path:"/pay_success",query:{paidUrl:e.paidSuccessUrlH5}});location.href=e.paidSuccessUrlH5}else"get_brand_wcpay_request:fail"==t.err_msg?alert("支付失败"):"get_brand_wcpay_request:cancel"==t.err_msg&&alert("支付已失败")}))})).catch((function(a){s.a.fail(a.message)}))}}},d=t("a6c2"),l=Object(d.a)(r,(function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"payPage"},[a.isLoading?t("e-loading"):a._e(),t("div",{staticClass:"payPage__order"},[t("div",{staticClass:"order__head"},[a._v("\n      "+a._s(a.detail.title)+"\n    ")]),t("div",{staticClass:"order__infomation"},[t("div",{staticClass:"sum"},[t("span",[a._v("待支付")]),t("span",{staticClass:"sum__price"},[a._v("¥ "),t("span",{staticClass:"num"},[a._v(a._s(a._f("toMoney")(a.detail.pay_amount)))])])])])]),t("div",{staticClass:"payPage__payBtn",on:{click:a.handlePay}},[a._v("\n    立即支付\n  ")])],1)}),[],!1,null,null,null);e.default=l.exports}}]);